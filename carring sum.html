<script>
  const sum = function (a) {
    if (typeof a !== 'number' || isNaN(a)) {
      console.log('первый');
      return 0;
    }
    console.log('второй');

    return function (b) {
      if (!b) {
        console.log('третий');
        return a;
      }
      console.log('четвертый');
      return sum(a + b);
    };
  };

  console.log(sum()); // 0
  console.log(sum(1)()); // 1
  console.log(sum(1)(2)()); // 3
  console.log(sum(1)(20)(300)()); // 321
  console.log(sum(1)(4000)(20)(300)()); // 4321
</script>
